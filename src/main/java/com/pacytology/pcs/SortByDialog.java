package com.pacytology.pcs;

/*
		A basic implementation of the JDialog class.
*/

import java.awt.*;
import javax.swing.*;
import java.util.Vector;

public class SortByDialog extends javax.swing.JDialog
{
    Vector tVector;
    Vector buttonVector;
    Vector sortByVector;
    final int MAX_SIZE = 5;
    
	public SortByDialog(Frame parent)
	{
		super(parent);
		
		// This code is automatically generated by Visual Cafe when you add
		// components to the visual environment. It instantiates and initializes
		// the components. To modify the code, only use code syntax that matches
		// what Visual Cafe can generate, or Visual Cafe may be unable to back
		// parse your Java file into its visual environment.
		//{{INIT_CONTROLS
		setResizable(false);
		setModal(true);
		getContentPane().setLayout(null);
		setSize(264,166);
		setVisible(false);
		cancelButton.setText("Cancel");
		getContentPane().add(cancelButton);
		cancelButton.setBounds(12,12,240,20);
		sortButton1.setText("sort1");
		sortButton1.setEnabled(false);
		getContentPane().add(sortButton1);
		sortButton1.setBounds(12,36,240,20);
		sortButton1.setVisible(false);
		sortButton2.setText("sort2");
		sortButton2.setEnabled(false);
		getContentPane().add(sortButton2);
		sortButton2.setBounds(12,60,240,20);
		sortButton2.setVisible(false);
		sortButton3.setText("sort3");
		sortButton3.setEnabled(false);
		getContentPane().add(sortButton3);
		sortButton3.setBounds(12,84,240,20);
		sortButton3.setVisible(false);
		sortButton4.setText("sort4");
		sortButton4.setEnabled(false);
		getContentPane().add(sortButton4);
		sortButton4.setBounds(12,108,240,20);
		sortButton4.setVisible(false);
		sortButton5.setText("sort5");
		sortButton5.setEnabled(false);
		getContentPane().add(sortButton5);
		sortButton5.setBounds(12,132,240,20);
		sortButton5.setVisible(false);
		//}}
	
		//{{REGISTER_LISTENERS
		SymAction lSymAction = new SymAction();
		cancelButton.addActionListener(lSymAction);
		sortButton1.addActionListener(lSymAction);
		sortButton2.addActionListener(lSymAction);
		sortButton3.addActionListener(lSymAction);
		sortButton4.addActionListener(lSymAction);
		sortButton5.addActionListener(lSymAction);
		//}}
	}

	public SortByDialog()
	{
		this((Frame)null);
	}

	public SortByDialog(String sTitle)
	{
		this();
		setTitle(sTitle);
	}
	
	public SortByDialog(Vector buttonVector, Vector sortByVector, Vector tVector)
	{
	    this();
	    this.tVector=tVector;
	    setTitle((String)tVector.elementAt(0));
	    this.buttonVector=buttonVector;
	    this.sortByVector=sortByVector;
	    this.processButtons();
	}

	public void setVisible(boolean b)
	{
		if (b) setLocation(200,100);
		super.setVisible(b);
	}

	static public void main(String args[])
	{
		(new SortByDialog()).setVisible(true);
	}

	public void addNotify()
	{
		// Record the size of the window prior to calling parents addNotify.
		Dimension size = getSize();

		super.addNotify();

		if (frameSizeAdjusted)
			return;
		frameSizeAdjusted = true;

		// Adjust size of frame according to the insets
		Insets insets = getInsets();
		setSize(insets.left + insets.right + size.width, insets.top + insets.bottom + size.height);
	}

	// Used by addNotify
	boolean frameSizeAdjusted = false;

	//{{DECLARE_CONTROLS
	javax.swing.JButton cancelButton = new javax.swing.JButton();
	javax.swing.JButton sortButton1 = new javax.swing.JButton();
	javax.swing.JButton sortButton2 = new javax.swing.JButton();
	javax.swing.JButton sortButton3 = new javax.swing.JButton();
	javax.swing.JButton sortButton4 = new javax.swing.JButton();
	javax.swing.JButton sortButton5 = new javax.swing.JButton();
	//}}
	
	private void processButtons()
	{
	    for (int i=0; i<buttonVector.size(); i++) {
	        if (i==MAX_SIZE) break;
	        String s = (String)buttonVector.elementAt(i);
	        switch (i) {
	            case 0: 
	                sortButton1.setText(s); 
	                sortButton1.setEnabled(true);
	                sortButton1.setVisible(true);
	                break;
	            case 1: 
	                sortButton2.setText(s); 
	                sortButton2.setEnabled(true);
	                sortButton2.setVisible(true);
	                break;
	            case 2:
	                sortButton3.setText(s); 
	                sortButton3.setEnabled(true);
	                sortButton3.setVisible(true);
	                break;
	            case 3:
	                sortButton4.setText(s); 
	                sortButton4.setEnabled(true);
	                sortButton4.setVisible(true);
	                break;
	            case 4:
	                sortButton5.setText(s); 
	                sortButton5.setEnabled(true);
	                sortButton5.setVisible(true);
	                break;
	        }
	    }
	}


	class SymAction implements java.awt.event.ActionListener
	{
		public void actionPerformed(java.awt.event.ActionEvent event)
		{
			Object object = event.getSource();
			if (object == cancelButton)
				cancelButton_actionPerformed(event);
			else if (object == sortButton1)
				sortButton1_actionPerformed(event);
			else if (object == sortButton2)
				sortButton2_actionPerformed(event);
			else if (object == sortButton3)
				sortButton3_actionPerformed(event);
			else if (object == sortButton4)
				sortButton4_actionPerformed(event);
			else if (object == sortButton5)
				sortButton5_actionPerformed(event);
		}
	}

	void cancelButton_actionPerformed(java.awt.event.ActionEvent event)
	{
		setSortData(-1);
	}

	void sortButton1_actionPerformed(java.awt.event.ActionEvent event)
	{
		setSortData(0);
	}

	void sortButton2_actionPerformed(java.awt.event.ActionEvent event)
	{
		setSortData(1);
	}

	void sortButton3_actionPerformed(java.awt.event.ActionEvent event)
	{
		setSortData(2);
	}

	void sortButton4_actionPerformed(java.awt.event.ActionEvent event)
	{
		setSortData(3);
	}

	void sortButton5_actionPerformed(java.awt.event.ActionEvent event)
	{
		setSortData(4);
	}
	
	void setSortData(int ndx)
	{
	    String s = "NULL";
	    String t = "NULL";
	    if (ndx>=0) {
	        s=(String)sortByVector.elementAt(ndx);
	        String a = (String)buttonVector.elementAt(ndx);
	        t = (String)tVector.elementAt(0)+": "+a;
	    }
	    tVector.setElementAt(t,0);
	    tVector.setElementAt(s,1);
	    tVector.addElement("DONE");
	    this.dispose();
	}
	
}
